{"ast":null,"code":"var _jsxFileName = \"/Users/apple/Desktop/test/CedarXpress-Frontend/src/component/login/Login.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useNavigate } from 'react-router-dom';\nimport User from '../modal/User';\nimport AuthenticationService from '../../services/AuthenticationService';\nimport { setCurrentUser } from '../../store/actions/user';\nimport styles from './Login.module.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Login = () => {\n  _s();\n\n  const [user, setUser] = useState(new User(\"\", \"\", \"\", \"\", \"\"));\n  const [loading, setLoading] = useState(false);\n  const [submitted, setSubitted] = useState(false);\n  const [errorMessage, setErrorMessage] = useState(\"\");\n  const navigate = useNavigate();\n  const dispatch = useDispatch();\n  const currentUser = useSelector(state => state.user);\n  useEffect(() => {\n    if (currentUser !== null && currentUser !== void 0 && currentUser.id) {\n      navigate(\"/\");\n    }\n  }, []);\n\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setUser(prevState => {\n      return { ...prevState,\n        [name]: value\n      };\n    });\n  };\n\n  const handleLogin = e => {\n    e.preventDefault();\n    setSubitted(true);\n    setLoading(true);\n    AuthenticationService.login(user).then(response => {\n      dispatch(setCurrentUser(response.data));\n      navigate(\"/\");\n    }).catch(error => {\n      console.log(error);\n      setErrorMessage(\"username or password is not valid\");\n      setLoading(false);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.logincontainer,\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Sign In\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: e => handleLogin(e),\n      noValidate: true,\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        className: styles.error,\n        children: errorMessage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.field,\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          value: user.email,\n          name: \"email\",\n          onChange: e => handleChange(e),\n          type: \"email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.field,\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          value: user.password,\n          name: \"password\",\n          onChange: e => handleChange(e),\n          type: \"password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: e => handleLogin(e),\n        type: \"submit\",\n        children: \"Submit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.signup_link,\n        children: [\"New here?  \", /*#__PURE__*/_jsxDEV(\"a\", {\n          href: \"/signup\",\n          children: \"Sign Up\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 56\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Login, \"xjxYWDdDKeYICY4228t+vd+7euA=\", false, function () {\n  return [useNavigate, useDispatch, useSelector];\n});\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useState","useEffect","useDispatch","useSelector","useNavigate","User","AuthenticationService","setCurrentUser","styles","Login","user","setUser","loading","setLoading","submitted","setSubitted","errorMessage","setErrorMessage","navigate","dispatch","currentUser","state","id","handleChange","e","name","value","target","prevState","handleLogin","preventDefault","login","then","response","data","catch","error","console","log","logincontainer","field","email","password","signup_link"],"sources":["/Users/apple/Desktop/test/CedarXpress-Frontend/src/component/login/Login.jsx"],"sourcesContent":["import React, { useState } from 'react'\nimport { useEffect } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { useNavigate } from 'react-router-dom'\nimport User from '../modal/User'\nimport AuthenticationService from '../../services/AuthenticationService'\nimport { setCurrentUser } from '../../store/actions/user'\nimport styles from './Login.module.css'\n\n\nconst Login = () => {\n  const [user, setUser] = useState(new User(\"\", \"\", \"\", \"\", \"\"))\n  const [loading, setLoading] = useState(false)\n  const [submitted, setSubitted] = useState(false)\n  const [errorMessage, setErrorMessage] = useState(\"\")\n  const navigate = useNavigate()\n\n  const dispatch = useDispatch();\n\n  const currentUser = useSelector(state => state.user);\n\n  useEffect(() => {\n    if (currentUser?.id) {\n      navigate(\"/\")\n    }\n  }, [])\n\n\n\n\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n\n    setUser((prevState) => {\n      return {\n        ...prevState, [name]: value,\n      }\n    })\n  }\n\n  const handleLogin = (e) => {\n    e.preventDefault();\n\n    setSubitted(true);\n    setLoading(true);\n\n    AuthenticationService.login(user).then((response) => {\n      dispatch(setCurrentUser(response.data));\n      navigate(\"/\")\n    }).catch((error) => {\n      console.log(error);\n      setErrorMessage(\"username or password is not valid\");\n      setLoading(false)\n    })\n  }\n\n  return (\n    \n    <div className={styles.logincontainer}>\n      <h1>Sign In</h1>\n      <form onSubmit={(e) => handleLogin(e)} noValidate>\n\n      <p className={styles.error}>{errorMessage}</p>\n\n        <div className={styles.field}>\n          <input value={user.email} name=\"email\" onChange={(e) => handleChange(e)}\n            type=\"email\" />\n          <span></span>\n          <label>Email</label>\n        </div>\n\n        <div className={styles.field}>\n          <input value={user.password} name=\"password\" onChange={(e) => handleChange(e)}\n            type=\"password\" />\n          <span></span>\n          <label>Password</label>\n        </div>\n\n        {/* <div className={styles.pass}>Forgot Password?</div> */}\n\n        <button onClick={(e) => handleLogin(e)} type='submit'>Submit</button>\n\n        <div className={styles.signup_link}>New here?  <a href=\"/signup\">Sign Up</a></div>\n      </form>\n      \n    </div>\n  )\n}\n\nexport default Login"],"mappings":"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"},"metadata":{},"sourceType":"module"}